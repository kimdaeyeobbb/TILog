<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Insert title here</title>
    <style>
      section {
        border: 1px solid lime;
        padding: 10%;
        margin: 0px auto;
      }
      div {
        border: 1px solid blue;
        width: 80%;
        padding: 10%;
        margin: 0px auto;
      }
      h1 {
        border: 1px solid red;
        width: 80%;
        padding: 10%;
        margin: 0px auto;
      }
    </style>
  </head>
  <body>
    <h2>이벤트 캡쳐링</h2>
    <section>
      <div>
        <h1>&lt;h1&gt; 태그 영역</h1>
      </div>
    </section>
    <script>
      function clickHandler() {
        var dom1 = document.getElementsByTagName("h1")[0];
        var dom2 = document.getElementsByTagName("div")[0];
        var dom3 = document.getElementsByTagName("section")[0];
        var dom4 = document.getElementsByTagName("body")[0];

        // 3번쨰 인자를 생략하면 default는 false이므로 캡처링을 하지 않겠다는 뜻
        dom1.addEventListener("click", displayAlert);
        dom2.addEventListener("click", displayAlert);

        // section 태그에 등록되는 이벤트 핸들러를 캡처링을 하겠다는 것
        dom3.addEventListener("click", displayAlert, true);
        dom4.addEventListener("click", displayAlert);
      }
      function displayAlert(e) {
        let msg = `${e.currentTarget.nodeName} 태그의 ${e.type} 이벤트 핸들러 수행~~`;
        window.alert(msg);
        // e.stopPropagation();
      }
      window.addEventListener("load", clickHandler);
    </script>
  </body>
</html>

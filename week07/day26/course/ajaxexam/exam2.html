<!DOCTYPE html>
<html>
   <head>
      <meta charset='UTF-8'>
      <title>Ajax테스트</title>
      <script>
      window.onload = function() {
        const xhr = new XMLHttpRequest();
         xhr.onload = function(event) {
         // load 이벤트 발생
            if (xhr.status == 200) {
            // status 확인 - 200:정상

               const xml = xhr.responseXML;
               // XML을 사용할 경우 DOM객체로 만들어서 추출해주므로 파싱을 하지 않아도 됨

	  	       const rootE = xml.getElementsByTagName('testxml');
		       let output = '';
		       for (let i = 1; i < rootE[0].childNodes.length; i += 2)
		          output += `<h3>${rootE[0].childNodes[i].firstChild.nodeValue}</h3>`;
 		       document.body.innerHTML += output;
	        } else {
	           document.body.innerHTML += "<h3>요청 실패~~~</h3>"	
	        }
         };
         xhr.open('GET', 'content/sample.xml', true);
         //xhr.open('GET', 'content/sample1.xml', true);
         // sample1.xml로 바꾸면 없는 파일이므로 요청 실패가 나올 것임

         xhr.send();
      };
      </script>
   </head>
   <body>
      <h2>onload 속성 사용 - XML응답</h2>
      <hr>
   </body>
</html>






# Network

- 사전적 의미
  - 전선이나 혈관, 통오 등으로 이루어진 망 형 조직

- 가장 많이 쓰이는 의미
  - 컴퓨터와 컴퓨터를 연결해주는 망

- 위키사전 내 의미
  - 컴퓨터 노드들로 제공되는 리소스를 공유하는 컴퓨터

# 네트워크를 얼마나 알아야 할까?

- TCP, IP로 데이터를 주고 받고 있기 때문에 TCP/IP가 어떤 특징을 갖는지 정도는 알아야 함


- 전세계적으로 연결된 인터넷 자체가 TCP/IP 프로토콜 기반임


- 왜 이것이 중요할까? 
  - 서로 데이터를 주고 받는데, 상상하기도 어려울 정도로 많은 트래픽이 발생함. 
  - 트래픽은 TCP/IP 기반으로 운용되므로 그나마 버티고 있는 것이다.



# OSI 7 Layers

|계층|계층명| 기능                                                      |
|:---:|:---:|:--------------------------------------------------------|
|7|Application Layer| 응용 프로세스가 OSI를 Access하는 수단을 제공<br>파일 전송, 가상 터미널, 전자 메일 등 |
|6|Presentation Layer|응용계층 엔티티간의 데이터 교환을 위해 Syntax에 관한 사항을 관장<br>Format, 구문변환, 코드변환, 압축, 보안 등|
|5|Session Layer|대화세션 제공, 대화의 동기 제공|
|4|Transport Layer|응용간 또는 프로세스간 논리적 통로를 제공<br>하위 계층의 각종 통신망의 차이를 보완하고, 상위층과 명확한 정보전송을 보장<br> ex) TCP, UDP|
| 3| Network Layer|상위계층에 시스템을 연결하는데 필요한 데이터 전송과 교환기능을 제공<br>네트워크 접속과 설정, 유지, 해지 등의 기능을 제공<br> 전송단위: Packet<br>ex) IP|
|2|Data Link Layer|물리적 통로를 통하여 인접장치 간 신뢰성 있는 정보를 교환<br>3계층에 논리적인 통로를 제공하고, 투명성을 보장함|
|1|Physical Layer|인접한 장치간에 비트전송을 위한 전송경로를 2계층에 제공<br>전기적, 기계적, 기능적, 절차적 수단을 제공<br> 전송단위: Bit|



# TCP/IP

- [참고사이트](https://www.hashemian.com/whoami/)
- 윈도우 기준 `ipconfig` 명령어로 Ip 확인

- TCP/IP는 OSI 7계층을 단순화하여 4계층으로 정의한 것

- TCP/IP는 개방형 구조임 (특정 OS나 H/W의 영향을 받지 않고 근거리와 원거리 모두 데이터 전송 가능)

## TCP

- 데이터 흐름 관리, 데이터 정확성 확인 등의 역할 수행

## IP

- 데이터(패킷)를 목적지까지 전송하는 역할을 담당



# 질문) 클라이언트가 많아지면 서버의 사양이 좋을 때 모두 감당가능한가?

- tcp는 stateless 프로토콜이므로 클라이언트를 무제한으로 받아들일 수 있다

## TCP 프로토콜

- stateless protocol
  - tcp 프로토콜은 클라이언트를 무제한으로 받아들일 수 있다

- 연결 지향적 (connection oriented) => 응답을 받고나면 연결을 끊어버림 => 트래픽이 넘겨짐

- 그래서 세션 트래킹이 필요함


## centOS

- 실습시 IPv4 설정

  - 얘가 gateway
  - 주소 들어가서 192.168.23.55/24**\_\_** 로 수정

- init 6

  - 런레벨을 바꿈
  - 리부팅 역할


- centos에서 리눅스의 ip를 바꾸는 과정이었음 (바깥의 윈도우와 통신을 하기 위함)


- 서로가 윈도우를 인식하고 있는지를 확인하는 과정


- `ping 192.168.23.55`을 터미널에 입력 (얘는 centos의 ip, 윈도우의 로컬 ip인 IPv4는 다름)



  - 192.168.23.55 대신 각자가 입력한 주소값으로 입력해서 진행
<br> => 핑이 날라가는 것 확인하기


  - 192.168.23.5에 대한 Ping 통계: <br>
    패킷: 보냄 = 4, 받음 = 0, 손실 = 4 (100% 손실) 과 같은 형태로 결과가 나타남


- 커멘드창에서 centos의 ip를 입력하면 핑이 날아감.


- 핑이 날아가는 것
  - 통신이 되는지 안되는지를 살펴볼 수 있는 명령어임


## PuTTY

- ssh로 접속이 되어야 함 (리눅스상에서는 ssh가 방화벽등의 문제로 인해 디폴트로 열려있을 것 임)
- centos에서 ip 확인 (`ifconfig`)

## ip 주소

- 인터넷상에서 whoami 사이트를 통해 외부로 나가는 ip주소 확인 가능

# DNS (Domain Name System)

- 이름을 IP주소로 변환하여 도메인 이름을 웹 브라우저에 입력할 때 최종 사용자를 어떤 서버에 연결할 것인지를 제어함

- 컴퓨터의 IP주소는 네트워크에서 컴퓨터를 구분해주는 주민번호와 같은 개념
- 도메인 이름은 규칙에 따라 붙이며, 도메인을 관리하는 기관에 일정 비용을 지불하고 구매해야 함
- 도메인 이름을 통한 웹 사이트 접속도 겉으로는 보이지 않지만 내부적으로는 도메인명을 IP주소로 변환하는 서비스를 이용함

# 웹 클라이언트 & 웹 서버

- 웹 서비스를 요청하고 응답하기 위해서는 클라이언트와 서버가 필요하다

## 웹 클라이언트 

- 웹 서비스를 요청하는 역할

- 프론트엔드
  - 웹 클라이언트 중심의 프로그래밍 영역

## 웹 서버

- 웹 요청을 처리하고 응답하는 역할

- 백엔드
  - 서버를 구성하며, 서비스를 제공하기 위한 서버 쪽 프로그래밍(웹 서버 S/W, 웹 프레임워크, DB)영역

#  크롬 > network 

- 하단에 request 확인 가능
- 다이나믹 컨텐츠들은 직접접속하지 않음

- 개발자 관점

  - 네이버가 보이기 위해서 226번의 리퀘스트를 보냄 (css, 이미지, js등이 포함됨)

- 내 짝이 만들어 놓은 html 파일 확인하기
  - 192.168.3.122:8080/myweb/hello.html
  - 이렇게 개발되는 것은 레거시. 우리는 스프링부트로 개발할 예정


## new Date()

- 인스턴화된 객체
- 생성자 함수

```html
<%= new Date() %> => 생성자를 호출한 것이다. 그래서 객체가 생성된다.
```

## jsp파일이 자바 파일로 변환이 되나요?

- 변환이 됨

- 변환된 자바 파일을 리턴해서 실행함 (정석적인 답변)


## 인터넷 서비스

- 인터넷에서 inter
  - ~와 ~의 사이
  - international: 나라와 나라 사이, 국제적인

## 프로토콜 & 포트

- 우리는 65535일 것임
- 80포트 : http 프로토콜의 기본 포트
- 23번포트
- 21번 포트
- 결정되어 있는 포트들이 존재


# HTTP 프로토콜

- Hypertext Transfer Protocol
- 웹에서 브라우저와 서버 간에 데이터를 주고받기 위한 방식

## HTTP 프로토콜의 특징

- stateless
  - 데이터를 주고 받기 위한 각각의 데이터 요청이 서로 독립적으로 관리됨
    <br>(이진 데이터 요청과 다음 데이터 요청이 서로 관련 없다는 뜻)
    <br>=> 이러한 특징 덕분에 서버는 세션과 같은 별도의 추가 정보를 관리하지 않아도 되고, 다수의 요청 처리 및 서버의 부하를 줄일 수 있는 성능상의 이점이 생김

- 일반적으로 TCP/IP 통신 위에서 동작함

- 기본포트: 80번


## HTTP 프로토콜 - 정적인 웹 페이지 처리 방식

- 웹 서버가 정적인 웹 페이지에 대한 요청을 받으면 서버는 정적인 파일을 찾아서 클라이언트로 전송함

- 정적인 웹 페이지 처리 방식
  - 정적인 웹 페이지는 파일 형태로 저장되어 있으면서 사용자의 입력에 따라 변하지 않는 HTML 문서임
  - 웹 브라우저는 HTTP request 메시지를 서버에 전달함으로써 웹 서버의 페이지를 요청함
  - 웹 서버는 HTTP response 메시지를 전달함으로써 HTTP 요청에 응답함
  - 정적인 웹 페이지에서는 HTTP response가 HTML 문서를 포함함


## HTTP 프로토콜 - 동적인 웹 페이지 처리 방식

- 웹 서버가 동적인 웹 페이지에 대한 요청을 받으면 서버는 동적 페이지를 실행하여 HTML 문서를 생성하고 클라이언트로 응답 전송함

- 동적인 웹 페이지 처리 방식
  - 동적인 웹 페이지는 웹 어플리케이션에 의해 생성되는 HTML 문서임


# CSR vs SSR


## 텔넷

- 요즘에는 안씀. 요청에 대한 형식 연습하려고 사용함
- 제어판 > 프로그램 > 프로그램 및 기능 > 윈도우 기능 켜기/끄기 > 텔넷 클라이언트 켜기 (활성화되어 사용할 수 있게 됨)
- 윈도우의 기능을 켰다 껐다 할 수 있음
- 인터넷 정보 서비스 => 웹 서버의 역할을 함 (nginx, apache 등이 여기에 해당)

- cmd에 `telnet` 입력 (텔넷 화면으로 진입)
- q입력시 빠져나갈 수 있음

- cmd에 telnet www.president.go.kr 80 > get index.html http/1.0

- 웹브라우저를 열고 president.go.kr 입력 > 개발자도구 > 네트워크 탭 > www.president.go.kr (상태 200인것 클릭) > headers
- 웹 애플리케이션은 클라이언트와 서버에 관한 매커니즘임. 개발자 환경에서 인식하고 있어야 하는것은 요청을 보낼 때 많은 정보를 싣어서 보낸다는 것이다.

## 스프링

- 이클립스 > 헬프 > 이클립스 마켓플레이스 > 스프링 > 2번째 (aka spring tool suite 4) -> 얘가 스프링 부트 (첫번째것이 스프링) > 첫번쨰것 설치
- 우분투 계열은 apt, 뷰/리액트/노드 등은 npm 이라는 패키지 관리 도구 사용. 이클립스는 메이븐/gradle이라는 의존성 관리 도구 사용
- 아래에 설치하는 화면이 보임

## 힙

- eclipse 구성설정 클릭
- xms는 힙 메모리 스타트임
-

- 이클립스는 jvm을 통해서 실행됨. jvm이 실행될 때 여러 옵션이 존재. 옵션에서 ~을 지정함
- jvm으로 기동되는 모든 것들은 메모리 설정이 되도록 되어 있음. 이러한 것들은 가비지 컬렉터에 영향을 많이 미침. 적절하게 메모리를 확보하는 것이 중요함

## ide와 에디터

### 에디터

- sublime
- atom
- bracket
- vscode
  - ms에서 타입스크립트라는 언어를 제시함 (자바스크립트의 subset)
  - 리액트는 자바스크립트를 매우 잘 알고 있어야 함

## 스프링 만들기

- 이클립스 > 파일 > 뉴 > 아더 > 스프링 레거시 프로젝트 > 넥스트 > 스프링 mvc 프로젝트 선택
- 지금의 초점은 http 프로토콜에 대해 무엇을 알아야하는지를 알아가는 과정
- 대부분의 애플리케이션이 오늘한 과정과 같은 매커니즘으로 구성되어있으므로 이를 이해하고 있어야 함 (하지만 앞으로는 이러한 과정을 똑같이 하는게 아니라 스프링부트를 이용할 것임)

## 로컬 호스트에게 요청 보내기

- http://localhost:8080/dk/
- ~인 이클립스를 의미하고, 기동중인 톰캣을 의미함. 스프링 내부에서 ~가 수행이 되어 결과를 던져줌
- 스프링이 내부에서 뭔가를 수행하고 결과가 html 형태로 던져지는 것. http 프로토콜이 request를 보낼 때 헤더,라인 등이 존재함.

## src/main/resources > log4j.xml

- xml 파일은 태그를 정의해서 만든 마크업 파일
- 정의한 태그는 스키마나 dtd로 표시함
- dtd는 log4라고 되어있지, 특정한 인터넷 상의 위치를 나타내고 있지 않기 때문에 현재 에러가 발생하는 것임

### log4j did not found

- 에러해결 방법

### log4j

- 잘 사용하지 않음 (속도문제, 보안이슈)
- 대신 사용하는 것

  - logback
  - log4j2

- 이 3개는 선택의 영역. 1가지만 잘 이해하고 있으면 나머지를 사용하는데에 있어서 어려움은 없음

## 스프링부트

- 스프링부트로 개발한 것을 도커로 도커나이징하고 쿠버네티스로 ~ 함

## 질문) 스프링이 프로그램인가요? 톰캣과의 관계는 어떻게 되나요?

- 톰캣을 기동시켜서 서비스를 해보는게 좋다


## 톰캣을 외부에서 실행해보기

- apache-tomcat-9.0.72 > bin > startup.sh (리눅스에서 실행 -> vscode로 열기)
- 톰캣은 웹 서버. 웹 서버는 8080를 열어서 클라이언트 요청을 listen하고 있는 것.

## 질문) 환경변수 적용이 된다는 것?

- 톰캣은 jvm위에서 돌아가야함 (자바로 개발된 레거시 이므로)

- 스프링부트로 개발을 하면 web.xml 자체가 없음

## 질문)

- 스프링은 톰캣을 실행시키는 것
- 스프링에도 lazy loading이 존재함